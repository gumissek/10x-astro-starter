---
import AuthLayout from '../layouts/AuthLayout.astro';
import GenerateFlashcardsView from '../components/views/GenerateFlashcardsView';

export const prerender = false;

// Sprawdź czy użytkownik jest zalogowany (middleware powinien przekierować, ale double-check)
const { user } = Astro.locals;

if (!user) {
  return Astro.redirect('/login');
}
---

<AuthLayout title="Generuj fiszki z AI">
  <GenerateFlashcardsView client:load userId={user.id} />
</AuthLayout>